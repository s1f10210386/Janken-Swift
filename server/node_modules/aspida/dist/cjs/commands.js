"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.watch = exports.build = exports.version = exports.getConfigs = void 0;
const buildTemplate_1 = __importDefault(require("./buildTemplate"));
const getConfigs_1 = require("./getConfigs");
Object.defineProperty(exports, "getConfigs", { enumerable: true, get: function () { return getConfigs_1.getConfigs; } });
const watchInputDir_1 = __importDefault(require("./watchInputDir"));
const writeRouteFile_1 = __importDefault(require("./writeRouteFile"));
const version = () => require('../package.json').version;
exports.version = version;
const build = (config) => (0, getConfigs_1.getConfigs)(config)
    .reduce((prev, c) => [...prev, ...(0, buildTemplate_1.default)(c)], [])
    .forEach(writeRouteFile_1.default);
exports.build = build;
const watch = (config) => (0, getConfigs_1.getConfigs)(config).map(c => {
    (0, buildTemplate_1.default)(c).forEach(writeRouteFile_1.default);
    return (0, watchInputDir_1.default)(c.input, () => (0, buildTemplate_1.default)(c).forEach(writeRouteFile_1.default));
});
exports.watch = watch;
//# sourceMappingURL=commands.js.map